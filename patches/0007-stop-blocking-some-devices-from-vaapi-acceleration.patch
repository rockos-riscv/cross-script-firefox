From 9918003a120cea807662a6dbbeeee90e6401ab50 Mon Sep 17 00:00:00 2001
From: CHEN <chenxuan@iscas.ac.cn>
Date: Thu, 16 Oct 2025 09:56:55 +0000
Subject: [PATCH 07/12] stop blocking some devices from vaapi acceleration

---
 widget/gtk/GfxInfo.cpp | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

diff --git a/widget/gtk/GfxInfo.cpp b/widget/gtk/GfxInfo.cpp
index a285803acb..6bbe3dd208 100644
--- a/widget/gtk/GfxInfo.cpp
+++ b/widget/gtk/GfxInfo.cpp
@@ -1215,12 +1215,12 @@ const nsTArray<RefPtr<GfxDriverInfo>>& GfxInfo::GetGfxDriverInfo() {
         V(0, 0, 0, 0), "FEATURE_HARDWARE_VIDEO_DECODING_NO_LINUX_AMD", "");
 
     // Disable on r600 driver due to decoding artifacts (Bug 1824307)
-    APPEND_TO_DRIVER_BLOCKLIST_EXT(
-        OperatingSystem::Linux, ScreenSizeStatus::All, BatteryStatus::All,
-        WindowProtocol::All, DriverVendor::MesaR600, DeviceFamily::All,
-        nsIGfxInfo::FEATURE_HARDWARE_VIDEO_DECODING,
-        nsIGfxInfo::FEATURE_BLOCKED_DEVICE, DRIVER_COMPARISON_IGNORED,
-        V(0, 0, 0, 0), "FEATURE_HARDWARE_VIDEO_DECODING_NO_R600", "");
+    // APPEND_TO_DRIVER_BLOCKLIST_EXT(
+    //     OperatingSystem::Linux, ScreenSizeStatus::All, BatteryStatus::All,
+    //     WindowProtocol::All, DriverVendor::MesaR600, DeviceFamily::All,
+    //     nsIGfxInfo::FEATURE_HARDWARE_VIDEO_DECODING,
+    //     nsIGfxInfo::FEATURE_BLOCKED_DEVICE, DRIVER_COMPARISON_IGNORED,
+    //     V(0, 0, 0, 0), "FEATURE_HARDWARE_VIDEO_DECODING_NO_R600", "");
 
     // Disable on AMD devices using broken Mesa (Bug 1837140).
     // https://gitlab.freedesktop.org/mesa/mesa/-/commit/0c024bbe641b092bbb
-- 
2.48.1

